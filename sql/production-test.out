report_id	occurred_at	neighborhood	location_name	source
f75d1bb2-8d8d-4ffa-805c-71e0c3deb898	2025-03-31	West Hill (136)	Apartment	user
f103437b-72c3-4d4c-aa7c-b1d59b65b04e	2025-03-31	Malvern West (145)	Outside	user
dd24ef43-7a45-4cd9-8679-e9224b224a64	2025-03-31	Old East York (58)	Apartment	user
b99b7379-e087-49f4-8e53-cdf091554054	2025-03-31	Cliffcrest (123)	Educational	user
b06cf99a-0175-46ac-9b00-64723d392277	2025-03-31	Rosedale-Moore Park (98)	Transit	user
afbcede5-d24f-48ef-925b-6e4a4ffc8749	2025-03-31	West Queen West (162)	Outside	user
ab82e2c1-82ff-475c-81dd-bbc72913f1b9	2025-03-31	Birchcliffe-Cliffside (122)	Commercial	user
aabb38cb-2e51-4f78-bf44-9e198b727738	2025-03-31	Wexford/Maryvale (119)	Educational	user
a4c1c123-9b81-4660-9d18-a5440b1ca939	2025-03-31	Maple Leaf (29)	Transit	user
998f4615-64f1-4401-ba43-7186e8b4cae0	2025-03-31	Black Creek (24)	Commercial	user
report_id	occurred_at	neighborhood	location_name	source
f5f901a4-f09f-4b8e-96e8-99a882d3dcc3	2025-03-28	High Park-Swansea (87)	Other	police
f4b61485-413c-4322-b736-f5d439b1e896	2025-03-28	Downtown Yonge East (168)	Transit	police
ee4d8a8b-11a0-4d09-b13f-d085a2a7ed24	2025-03-28	Woburn North (142)	Transit	police
eccf46df-43e8-49e7-b13b-70aa5f674255	2025-03-28	Mount Olive-Silverstone-Jamestown (2)	Commercial	police
ec53ddc3-9e30-451c-ab2d-769486d2f496	2025-03-28	Rockcliffe-Smythe (111)	Apartment	police
e6e9a21c-72f5-4d4c-a9ce-78284e625400	2025-03-28	Yonge-Bay Corridor (170)	Other	police
dbb3167c-9865-4a88-989e-72b1db27ca9a	2025-03-28	Etobicoke City Centre (159)	Outside	police
da7c9441-fc4d-46de-9b10-6f2a7cd486c8	2025-03-28	Oakdale-Beverley Heights (154)	Outside	police
d885d59a-56d0-447f-af9f-960d725933db	2025-03-28	Runnymede-Bloor West Village (89)	Other	police
cc3c36c8-d350-4e60-bc33-e3e39c1d78e0	2025-03-28	Cabbagetown-South St.James Town (71)	Outside	police
report_id	occurred_at	location_name	source
142625cb-ce28-49d5-b60d-138242480949	2025-03-31	Lansing-Westgate (38)	user
6ee3d5d6-4bb7-44b1-8552-5f962333171d	2025-03-31	Old East York (58)	user
37e16480-04d2-4652-8b12-9d91eeb0f8ca	2025-03-31	Clairlea-Birchmount (120)	user
35021fd6-4ea9-45cd-89b5-a0bfd9d77041	2025-03-31	Banbury-Don Mills (42)	user
610268ec-f087-4be5-b237-ef7072f18214	2025-03-31	Wexford/Maryvale (119)	user
120f21e7-9e62-4f9c-aa0c-e66b8c9fc78e	2025-03-31	Milliken (130)	user
5a344107-ddd4-4ae8-9085-c9108c924a0d	2025-03-31	Regent Park (72)	user
35cd5f2e-0b1e-424c-aa71-aa9e2e80a1a5	2025-03-31	Dufferin Grove (83)	user
103ea2ee-fbb6-4cda-a358-193d1268df4e	2025-03-31	Cabbagetown-South St.James Town (71)	user
0a3cc418-b92d-4566-83f0-1b5a0704816f	2025-03-31	Pelmo Park-Humberlea (23)	user
report_id	occured_at	location_name	type_id	source
027c5cba-5a97-48e3-8e0e-a575f25d67ad	2025-03-27	Mount Olive-Silverstone-Jamestown (2)	Assault With Weapon	police
0b723289-7704-4269-b6ad-3962ab1c1135	2025-03-28	East End-Danforth (62)	Assault With Weapon	police
1201f0f5-0a6c-49d8-8f3b-097d6e5eccfd	2025-03-27	Yonge-Bay Corridor (170)	Assault With Weapon	police
19fa3487-3c4c-4c6a-9cfe-be292db5a94a	2025-03-28	Wexford/Maryvale (119)	Assault With Weapon	police
3c49a1fd-839f-4f59-acd3-4603184db262	2025-03-28	Regent Park (72)	Assault With Weapon	police
3e914858-2bbf-43ce-8b44-564fea7b5b0f	2025-03-28	Mount Pleasant East (99)	Assault With Weapon	police
4327c215-ff58-4df9-9d05-ff69b86efd1b	2025-03-27	Kennedy Park (124)	Assault With Weapon	police
47245245-cff0-4e83-8aca-26f519c4a90d	2025-03-27	Regent Park (72)	Assault With Weapon	police
5613a867-ac51-4943-9183-cfd3ae43f855	2025-03-27	Weston-Pelham Park (91)	Assault With Weapon	police
589a5576-b0b5-4108-b993-c11c8ff01035	2025-03-27	Kennedy Park (124)	Assault With Weapon	police
report_id	occured_at	location_name	type_id
f4b61485-413c-4322-b736-f5d439b1e896	2025-03-28	Downtown Yonge East (168)	Administering Noxious Thing
07e3190a-6d13-4f57-bec4-f0ef1fd0b5bc	2025-03-30	South Riverdale (70)	Aggravated Assault
35021fd6-4ea9-45cd-89b5-a0bfd9d77041	2025-03-31	Banbury-Don Mills (42)	Aggravated Assault
354b850a-8e20-409d-9c96-adcdfea2208f	2025-03-28	Harbourfront-CityPlace (165)	Aggravated Assault
06369ec4-4205-474e-9c08-bd8998dd71ab	2025-03-30	Birchcliffe-Cliffside (122)	Assault
0a3cc418-b92d-4566-83f0-1b5a0704816f	2025-03-31	Pelmo Park-Humberlea (23)	Assault
f70d59c5-e52d-4bb8-9a0a-d15d9cb4ff47	2020-07-01	Old East York (58)	Assault
120f21e7-9e62-4f9c-aa0c-e66b8c9fc78e	2025-03-31	Milliken (130)	Assault
142625cb-ce28-49d5-b60d-138242480949	2025-03-31	Lansing-Westgate (38)	Assault
52189107-f4c0-4d84-b298-3b49ac22b983	2025-03-30	Banbury-Don Mills (42)	Assault
worstNbhd
Banbury-Don Mills (42)
Harbourfront-CityPlace (165)
Mimico-Queensway (160)
York University Heights (27)
Kennedy Park (124)
Annex (95)
Wexford/Maryvale (119)
Yonge-Bay Corridor (170)
Rosedale-Moore Park (98)
Milliken (130)
lat_bin	long_bin	occurrences
43.65	-79.38	2
43.75	-79.39	1
43.71	-79.36	1
43.68	-79.31	2
43.74	-79.41	1
43.62	-79.51	1
43.73	-79.3	2
43.63	-79.4	2
43.77	-79.35	1
43.73	-79.51	1
total_incidents	avg_distance	assault_types	neighborhoods	premise_types	police_reports	user_reports	risk_score	risk_level
4	0.32652168627248107	Administering Noxious Thing,Assault,Assault Bodily Harm,Assault With Weapon	Downtown Yonge East (168),Yonge-Bay Corridor (170)	Streets, Roads, Highways (Bicycle Path, Private Road),Ttc Subway Station	4	0	6.60	MEDIUM
Trigger	Event	Table	Statement	Timing	Created	sql_mode	Definer	character_set_client	collation_connection	Database Collation
validate_coordinates_before_insert	INSERT	userLocation	BEGIN\n    \n    IF NEW.latitude < 43 OR NEW.latitude > 44 THEN\n        SIGNAL SQLSTATE '45000' \n        SET MESSAGE_TEXT = 'Latitude must be within Toronto bounds';\n    END IF;\n    \n    \n    IF NEW.longitude < -80 OR NEW.longitude > -79 THEN\n        SIGNAL SQLSTATE '45000' \n        SET MESSAGE_TEXT = 'Longitude must be within Toronto bounds';\n    END IF;\nEND	BEFORE	2025-07-26 15:24:50.27	ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION	root@localhost	utf8mb3	utf8mb3_general_ci	utf8mb4_0900_ai_ci
validate_incident_date	INSERT	userReports	BEGIN\n    \n    IF NEW.occurence_date > CURDATE() THEN\n        SIGNAL SQLSTATE '45000' \n        SET MESSAGE_TEXT = 'Incident date cannot be in the future';\n    END IF;\nEND	BEFORE	2025-07-26 15:24:50.27	ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION	root@localhost	utf8mb3	utf8mb3_general_ci	utf8mb4_0900_ai_ci
report_id	occurred_at	neighborhood	location_name	source	closest_police	distance
7f275747-288d-4663-bfa8-9a650a940970	2025-03-31	Harbourfront-CityPlace (165)	Outside	user	354b850a-8e20-409d-9c96-adcdfea2208f	0.41703435047714665
f103437b-72c3-4d4c-aa7c-b1d59b65b04e	2025-03-31	Malvern West (145)	Outside	user	2f5a7bb8-76f0-4b5b-8b5e-e825ea2ae1c8	2.2423889278512266
0a3cc418-b92d-4566-83f0-1b5a0704816f	2025-03-31	Pelmo Park-Humberlea (23)	House	user	48ba93bd-f9d4-4f1a-8f61-ada72b65bfdd	1.0526370711111013
103ea2ee-fbb6-4cda-a358-193d1268df4e	2025-03-31	Cabbagetown-South St.James Town (71)	Outside	user	cc3c36c8-d350-4e60-bc33-e3e39c1d78e0	0.1849933342091662
120f21e7-9e62-4f9c-aa0c-e66b8c9fc78e	2025-03-31	Milliken (130)	House	user	5dda9296-55e4-407f-a344-64a9ff0e7a1f	0.08316521753567145
dd24ef43-7a45-4cd9-8679-e9224b224a64	2025-03-31	Old East York (58)	Apartment	user	1fc981db-1a20-46fb-9167-ad459637d738	1.5825407761837438
142625cb-ce28-49d5-b60d-138242480949	2025-03-31	Lansing-Westgate (38)	Apartment	user	3025b46b-7214-4caa-904a-e4fce516bc06	1.1808115919818802
35021fd6-4ea9-45cd-89b5-a0bfd9d77041	2025-03-31	Banbury-Don Mills (42)	Outside	user	4cd71688-5dd6-418a-82d4-17cd88a49d24	1.0809842723017802
35cd5f2e-0b1e-424c-aa71-aa9e2e80a1a5	2025-03-31	Dufferin Grove (83)	Commercial	user	454a1915-ed19-493a-8704-3456df1e2321	0
37e16480-04d2-4652-8b12-9d91eeb0f8ca	2025-03-31	Clairlea-Birchmount (120)	Other	user	012d4c74-74c3-4229-9cca-f7731aa74ec2	1.3516479077718024
b99b7379-e087-49f4-8e53-cdf091554054	2025-03-31	Cliffcrest (123)	Educational	user	4327c215-ff58-4df9-9d05-ff69b86efd1b	1.5109471576011007
b06cf99a-0175-46ac-9b00-64723d392277	2025-03-31	Rosedale-Moore Park (98)	Transit	user	58b72672-1cd1-4137-859e-f235a406c359	0
afbcede5-d24f-48ef-925b-6e4a4ffc8749	2025-03-31	West Queen West (162)	Outside	user	bd478a82-f40e-45d2-a093-db647e1db266	1.0325610799913618
ab82e2c1-82ff-475c-81dd-bbc72913f1b9	2025-03-31	Birchcliffe-Cliffside (122)	Commercial	user	4327c215-ff58-4df9-9d05-ff69b86efd1b	1.6137463845089473
5a344107-ddd4-4ae8-9085-c9108c924a0d	2025-03-31	Regent Park (72)	Apartment	user	3c49a1fd-839f-4f59-acd3-4603184db262	0.21311170758819775
aabb38cb-2e51-4f78-bf44-9e198b727738	2025-03-31	Wexford/Maryvale (119)	Educational	user	19fa3487-3c4c-4c6a-9cfe-be292db5a94a	1.409036993551187
a4c1c123-9b81-4660-9d18-a5440b1ca939	2025-03-31	Maple Leaf (29)	Transit	user	5fca61ce-75ad-4e75-b893-f8b209364e0e	2.025559604365054
610268ec-f087-4be5-b237-ef7072f18214	2025-03-31	Wexford/Maryvale (119)	House	user	19fa3487-3c4c-4c6a-9cfe-be292db5a94a	2.3724954134367486
998f4615-64f1-4401-ba43-7186e8b4cae0	2025-03-31	Black Creek (24)	Commercial	user	ae24dc60-e1c9-4015-b10b-ae3960afe58c	0.24247220373504216
6ee3d5d6-4bb7-44b1-8552-5f962333171d	2025-03-31	Old East York (58)	House	user	f70d59c5-e52d-4bb8-9a0a-d15d9cb4ff47	1.0824614025099217
99622f35-3ab5-462b-bc59-522a18d56ebd	2025-03-31	Casa Loma (96)	Outside	user	8244111c-d7a5-49bd-8a2a-47b7dbf56568	0.30398916888229655
7801c83d-330b-418f-8c99-7c0a87bfb0f3	2025-03-31	Golfdale-Cedarbrae-Woburn (141)	Apartment	user	127afce9-afe7-4677-9173-9d3d4dbb1ffd	0.8583249769350461
8f32f645-605d-4c8e-8d95-fd623b181948	2025-03-31	Thorncliffe Park (55)	Apartment	user	f70d59c5-e52d-4bb8-9a0a-d15d9cb4ff47	0.7869579343636367
8978c046-4e56-4271-b389-674f41745364	2025-03-31	Bendale-Glen Andrew (156)	House	user	f38f0ebe-3ae8-4f69-a5a3-4547e7dbb559	1.284245462523532
81528c27-dd50-4396-9141-208ae74479cf	2025-03-31	Rosedale-Moore Park (98)	Outside	user	58b72672-1cd1-4137-859e-f235a406c359	2.0707202584945112
f75d1bb2-8d8d-4ffa-805c-71e0c3deb898	2025-03-31	West Hill (136)	Apartment	user	f43b961b-1590-4fbb-ade3-852da405b9c7	0.8430228807303651
7ef8b3e2-fe3a-41b2-8552-f83f012b4211	2025-03-30	Yonge-Doris (151)	Apartment	user	3025b46b-7214-4caa-904a-e4fce516bc06	0.29322884188877785
8704c37b-106c-424e-9c38-03825d588e41	2025-03-30	NSA	Commercial	user	7164b2cb-2fdc-4c35-9521-ad919389df0a	9141.030401640213
7d40cc5e-5db2-4c02-81c3-4ec831884b8f	2025-03-30	Mimico-Queensway (160)	House	user	2e92645f-25d8-45a9-a39f-97f3fc072538	1.882331850722277
78c9c69f-0adc-454e-b98d-d589313533cd	2025-03-30	High Park North (88)	Transit	user	e60db1c0-8b91-4a6f-83e0-7337df93f01a	1.60362970240841
91f0cc75-8f3e-46d7-96fa-1fc8b5a1155e	2025-03-30	South Riverdale (70)	Commercial	user	98d52f19-347c-4464-94d0-947cb055de7f	0.25493696610758915
961030da-8689-4d17-9b7a-c42b7cd47a09	2025-03-30	High Park North (88)	Transit	user	e60db1c0-8b91-4a6f-83e0-7337df93f01a	1.60362970240841
6f6dc747-8697-404d-8c91-2039b04bd4c9	2025-03-30	Annex (95)	Transit	user	54cf5966-5482-4ebd-b306-48de4167ab50	0.39174192281667813
6646eb89-cfef-4512-b795-29d6e44c534b	2025-03-30	North St.James Town (74)	Other	user	58b72672-1cd1-4137-859e-f235a406c359	0.6890303604704903
60dfbb8e-8576-4f55-ab10-6165c89e7dcd	2025-03-30	Willowridge-Martingrove-Richview (7)	House	user	23811b64-4c5a-4990-9604-d2df33cff165	1.090132937758081
5de4571b-9d8f-405f-818d-206c4a9ec7fa	2025-03-30	Etobicoke West Mall (13)	Apartment	user	dbb3167c-9865-4a88-989e-72b1db27ca9a	2.3779187502026486
aaf21628-5d6d-40cb-bc5d-8ac6774e6fc7	2025-03-30	Rockcliffe-Smythe (111)	Apartment	user	ec53ddc3-9e30-451c-ab2d-769486d2f496	0.37434394059136317
571fa8cd-4af8-4f4c-a426-3b36a7864238	2025-03-30	Clairlea-Birchmount (120)	Other	user	012d4c74-74c3-4229-9cca-f7731aa74ec2	1.3516479077718024
ac48f656-dd37-4276-af5c-74bae66bcbd6	2025-03-30	York University Heights (27)	Outside	user	cf47bc35-84a3-4c2d-9b9e-14cc9fd5f03d	0.23009739044869565
52189107-f4c0-4d84-b298-3b49ac22b983	2025-03-30	Banbury-Don Mills (42)	Transit	user	c338a21e-1a12-4a5b-b2f8-7c1afc07167b	1.8044235391945074
5195f60c-628f-4677-92a4-df5801f0003a	2025-03-30	Annex (95)	Transit	user	791f2224-0aa7-4cc2-b9a1-984b8dd60620	0.5624491224313297
498d0ddb-b63f-44ff-b67b-a13368d194ad	2025-03-30	Bendale South (157)	House	user	f38f0ebe-3ae8-4f69-a5a3-4547e7dbb559	0.25030072542970344
c3f891aa-3327-4b48-b7de-c5054151c999	2025-03-30	Rosedale-Moore Park (98)	Commercial	user	58b72672-1cd1-4137-859e-f235a406c359	1.053416150204358
c4a9a3c9-ec5f-413c-aada-df3a40c6cefb	2025-03-30	The Beaches (63)	House	user	3087fb83-1f57-4da7-b6f2-23e372f2576f	0.7891139326758625
d99bb306-3f28-4f64-9ec4-f0f96d3c5ff6	2025-03-30	Wexford/Maryvale (119)	Apartment	user	19fa3487-3c4c-4c6a-9cfe-be292db5a94a	1.2732569325750966
1245607c-204b-4e75-a13e-4bab4ab49584	2025-03-30	Annex (95)	Commercial	user	54cf5966-5482-4ebd-b306-48de4167ab50	0.13967431330860958
e4edb822-5b6e-4a31-93ad-2f7a8e8b7f50	2025-03-30	Moss Park (73)	House	user	06f58eeb-fddc-4cf3-8959-dc01983dbbda	0.32552764104321713
07e3190a-6d13-4f57-bec4-f0ef1fd0b5bc	2025-03-30	South Riverdale (70)	Commercial	user	98d52f19-347c-4464-94d0-947cb055de7f	0.25493696610758915
f540189d-3250-4ec4-bcc9-1cdb15d316c0	2025-03-30	Stonegate-Queensway (16)	House	user	174eb388-a2aa-444e-9d97-74c38829b268	1.5355041181952396
06369ec4-4205-474e-9c08-bd8998dd71ab	2025-03-30	Birchcliffe-Cliffside (122)	House	user	4327c215-ff58-4df9-9d05-ff69b86efd1b	1.0046898624975937
r_id	occurence_date	latitude	longitude	neighborhood	location_type	reporter_type
482e8c64-1fe8-4469-a4d2-fa15dd31deab	2024-06-30	43.6563	-79.3809	Downtown Yonge East (168)	Transit	police
794dd093-2ee2-4b0d-9c39-1718a88e4990	2025-03-13	43.6549	-79.3759	Downtown Yonge East (168)	Apartment	police
1201f0f5-0a6c-49d8-8f3b-097d6e5eccfd	2025-03-27	43.6585	-79.3849	Yonge-Bay Corridor (170)	Apartment	police
85f349d0-6154-4a7d-bea0-abdbca003d32	2025-03-27	43.6521	-79.3807	Yonge-Bay Corridor (170)	Outside	police
49c411ad-40a2-48bc-a843-de632e721a83	2025-03-28	43.6506	-79.3811	Yonge-Bay Corridor (170)	Outside	police
627be6aa-1afd-423c-94eb-674ebab596d7	2025-03-28	43.6506	-79.3811	Yonge-Bay Corridor (170)	Outside	police
e6e9a21c-72f5-4d4c-a9ce-78284e625400	2025-03-28	43.6578	-79.3862	Yonge-Bay Corridor (170)	Other	police
f4b61485-413c-4322-b736-f5d439b1e896	2025-03-28	43.6563	-79.3809	Downtown Yonge East (168)	Transit	police
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	ur	NULL	index	PRIMARY	idx_ur_occurence_date	4	NULL	10	100.00	Backward index scan; Using index
1	SIMPLE	ul	NULL	eq_ref	PRIMARY,idx_ul_rid	PRIMARY	144	cs348.ur.r_id	1	100.00	NULL
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	SIMPLE	pr	NULL	index	PRIMARY	idx_pr_occurence_date	4	NULL	10	100.00	Backward index scan; Using index
1	SIMPLE	pl	NULL	eq_ref	PRIMARY,idx_pl_rid	PRIMARY	144	cs348.pr.r_id	1	100.00	NULL
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	ur	NULL	index	PRIMARY	idx_ur_occurence_date	4	NULL	50	100.00	Using index
1	PRIMARY	ul	NULL	eq_ref	PRIMARY,idx_ul_rid	PRIMARY	144	cs348.ur.r_id	1	100.00	NULL
2	UNION	pr	NULL	index	PRIMARY	idx_pr_occurence_date	4	NULL	120	100.00	Using index
2	UNION	pl	NULL	eq_ref	PRIMARY,idx_pl_rid	PRIMARY	144	cs348.pr.r_id	1	100.00	NULL
3	UNION RESULT	<union1,2>	NULL	ALL	NULL	NULL	NULL	NULL	NULL	NULL	Using temporary; Using filesort
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	pr	NULL	ALL	PRIMARY	NULL	NULL	NULL	120	100.00	NULL
1	PRIMARY	pl	NULL	eq_ref	PRIMARY,idx_pl_rid	PRIMARY	144	cs348.pr.r_id	1	100.00	Using where
2	UNION	ur	NULL	ALL	PRIMARY	NULL	NULL	NULL	50	100.00	NULL
2	UNION	ul	NULL	eq_ref	PRIMARY,idx_ul_rid	PRIMARY	144	cs348.ur.r_id	1	100.00	Using where
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	ur	NULL	ALL	PRIMARY	NULL	NULL	NULL	50	100.00	NULL
1	PRIMARY	ul	NULL	eq_ref	PRIMARY,idx_ul_rid	PRIMARY	144	cs348.ur.r_id	1	100.00	NULL
2	UNION	pr	NULL	ALL	PRIMARY	NULL	NULL	NULL	120	100.00	NULL
2	UNION	pl	NULL	eq_ref	PRIMARY,idx_pl_rid	PRIMARY	144	cs348.pr.r_id	1	100.00	NULL
3	UNION RESULT	<union1,2>	NULL	ALL	NULL	NULL	NULL	NULL	NULL	NULL	Using temporary; Using filesort
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	NULL	ALL	NULL	NULL	NULL	NULL	170	100.00	Using temporary; Using filesort
2	DERIVED	policeLocation	NULL	index	idx_pl_neighborhood	idx_pl_neighborhood	1027	NULL	120	100.00	Using index
3	UNION	userLocation	NULL	index	idx_ul_neighborhood	idx_ul_neighborhood	1027	NULL	50	100.00	Using index
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived2>	NULL	ALL	NULL	NULL	NULL	NULL	89	100.00	Using temporary
2	DERIVED	pr	NULL	range	PRIMARY,idx_pr_occurence_date	idx_pr_occurence_date	4	NULL	39	100.00	Using where; Using index
2	DERIVED	pl	NULL	eq_ref	PRIMARY,idx_pl_rid	PRIMARY	144	cs348.pr.r_id	1	100.00	NULL
3	UNION	ur	NULL	index	PRIMARY,idx_ur_occurence_date	idx_ur_occurence_date	4	NULL	50	100.00	Using where; Using index
3	UNION	ul	NULL	eq_ref	PRIMARY,idx_ul_rid	PRIMARY	144	cs348.ur.r_id	1	100.00	NULL
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	<derived4>	NULL	system	NULL	NULL	NULL	NULL	1	100.00	NULL
4	DERIVED	<derived7>	NULL	ALL	NULL	NULL	NULL	NULL	161	100.00	NULL
7	DERIVED	pr	NULL	ALL	PRIMARY,idx_pr_occurence_date	NULL	NULL	NULL	120	92.50	Using where
7	DERIVED	pl	NULL	eq_ref	PRIMARY,idx_pl_rid	PRIMARY	144	cs348.pr.r_id	1	100.00	Using where
8	UNION	ur	NULL	ALL	PRIMARY,idx_ur_occurence_date	NULL	NULL	NULL	50	100.00	Using where
8	UNION	ul	NULL	eq_ref	PRIMARY,idx_ul_rid	PRIMARY	144	cs348.ur.r_id	1	100.00	Using where
Trigger	Event	Table	Statement	Timing	Created	sql_mode	Definer	character_set_client	collation_connection	Database Collation
validate_coordinates_before_insert	INSERT	userLocation	BEGIN\n    \n    IF NEW.latitude < 43 OR NEW.latitude > 44 THEN\n        SIGNAL SQLSTATE '45000' \n        SET MESSAGE_TEXT = 'Latitude must be within Toronto bounds';\n    END IF;\n    \n    \n    IF NEW.longitude < -80 OR NEW.longitude > -79 THEN\n        SIGNAL SQLSTATE '45000' \n        SET MESSAGE_TEXT = 'Longitude must be within Toronto bounds';\n    END IF;\nEND	BEFORE	2025-07-26 15:24:50.29	ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION	root@localhost	utf8mb3	utf8mb3_general_ci	utf8mb4_0900_ai_ci
validate_incident_date	INSERT	userReports	BEGIN\n    \n    IF NEW.occurence_date > CURDATE() THEN\n        SIGNAL SQLSTATE '45000' \n        SET MESSAGE_TEXT = 'Incident date cannot be in the future';\n    END IF;\nEND	BEFORE	2025-07-26 15:24:50.29	ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION	root@localhost	utf8mb3	utf8mb3_general_ci	utf8mb4_0900_ai_ci
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	ul	NULL	ALL	PRIMARY,idx_ul_rid	NULL	NULL	NULL	50	81.00	Using where; Using temporary; Using filesort
1	PRIMARY	ur	NULL	eq_ref	PRIMARY	PRIMARY	144	cs348.ul.r_id	1	100.00	NULL
3	DEPENDENT SUBQUERY	pl	NULL	ALL	PRIMARY,idx_pl_rid	NULL	NULL	NULL	120	81.00	Using where
3	DEPENDENT SUBQUERY	pr	NULL	eq_ref	PRIMARY	PRIMARY	144	cs348.pl.r_id	1	100.00	Using index
2	DEPENDENT SUBQUERY	pl	NULL	ALL	PRIMARY,idx_pl_rid	NULL	NULL	NULL	120	81.00	Using where; Using temporary; Using filesort
2	DEPENDENT SUBQUERY	pr	NULL	eq_ref	PRIMARY	PRIMARY	144	cs348.pl.r_id	1	100.00	Using index
id	select_type	table	partitions	type	possible_keys	key	key_len	ref	rows	filtered	Extra
1	PRIMARY	pr	NULL	index	PRIMARY	idx_pr_occurence_date	4	NULL	120	100.00	Using index
1	PRIMARY	pl	NULL	eq_ref	PRIMARY,idx_pl_rid	PRIMARY	144	cs348.pr.r_id	1	100.00	Using where
2	UNION	ul	NULL	ALL	PRIMARY,idx_ul_rid	NULL	NULL	NULL	50	100.00	Using where
2	UNION	ur	NULL	eq_ref	PRIMARY	PRIMARY	144	cs348.ul.r_id	1	100.00	NULL
